<!DOCTYPE html>
<html>
<head>
	<title>第三章</title>
	<style>
		#results li.pass{color: green;}
		#results li.fail{color:red;}
	</style>
</head>
<body>

	<ul id="results"></ul>

	<script>
		function assert(value, desc){
			var li = document.createElement("li");
			li.className = value ? "pass" : "fail";
			li.appendChild(document.createTextNode(desc));
			document.getElementById("results").appendChild(li);
		}
		(function(){}(3));

	</script>
	
	<script type="text/javascript">
		
		var store = {
			nextId: 1,
			cache: {},
			add: function(fn){
				if(!fn.id){
					fn.id = this.nextId++;
					this.cache[fn.id] = fn;
					return true;
				}
			}
		};
		function nijia(){}
		assert(store.add(nijia),"Function was safely added.");
		assert(!store.add(nijia),"But it only added once.");

	</script>

	<script>
			
		function isPrime(value){
			if(!isPrime.answers){
				isPrime.answers = {};
			}
			if(isPrime.answers[value] !== undefined){
				return isPrime.answer[value];
			}
			var prime = value !== 0 && value !==1;
			for (var i = 2;i < value; i++){
				if(value % i === 0){
					prime = false;
					break;
				}
			}
			return isPrime.answers[value] = prime;
		}

		assert(isPrime(5),"5 is Prime!");
		assert(isPrime.answers[5],"The answer was cached");

	</script>

	<script>
		var value = [0, 3, 2, 5, 7, 4,8, 1];
		value.sort((value1,value2) => value1 - value2);
	</script>

</body>
</html>